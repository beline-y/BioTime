<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>BioTIME – Study Map</title>

  <!-- External CSS -->
  <link rel="stylesheet" href="styles.css">
</head>

<body>

<!-- SIDEBAR -->
    <div id="sidebar">
      <div>
        <div class="sidebar-title">BioTIME</div>
        <div class="sidebar-subtitle">Dataset</div>
      </div>

      <div class="sidebar-nav">
        <span class="nav-link active" data-target="page-map">Home</span>
        <span class="nav-link" data-target="page-2">Dataset overview</span>
        <span class="nav-link" data-target="page-3">Studies</span>
      </div>

      <div class="filter-card map-only">
        <div class="filter-header">
          <div class="filter-label">Realm</div>
        </div>
        <div class="filter-body">
          <select id="realm-select">
            <option value="all">All</option>
            <option value="Terrestrial">Terrestrial</option>
            <option value="Marine">Marine</option>
            <option value="Freshwater">Freshwater</option>
          </select>
        </div>
      </div>

      <div class="filter-card map-only">
        <div class="filter-header">
          <div class="filter-label">Protected areas</div>
        </div>
        <div class="filter-body">
          <label class="checkbox-row">
            <input type="checkbox" id="protected-only">
            Protected areas only
          </label>
        </div>
      </div>
    </div>

  <div id="main" class = "content">
    <!-- PAGE 1 : CARTE + SIDEBAR -->
    <div id="page-map" class="page-section">

      <!-- MAP -->
      <div id="map-container">
        <div id="tooltip"></div>
        <div id="legend-duration"></div>

        <div id="zoom-controls">
          <div class="zoom-btn" id="zoom-in">+</div>
          <div class="zoom-btn" id="zoom-out">−</div>
        </div>

        <div id="tool-controls">
          <div class="tool-btn"  id="move" aria-pressed="true">
            <img src = "..//icons//move_icon_64px.png">
          </div>

          <div class="tool-btn tool-rectangle" id="rectangle" aria-pressed="false">
            <img src = "..//icons//rectangle_icon_64px.png">
          </div>
          
          <div class="tool-btn tool-lasso" id="free" aria-pressed="false">
            <img src = "..//icons//lasso_icon_64px.png">
          </div>

        </div>

        <!-- ARROW BUTTON FOR NEXT PAGE -->
        <button id="next-page-btn">↓</button>
      </div>

    </div>

    <!-- PAGE 2 : OVERVIEW / GRAPHIQUES -->
    <div id="page-2" class="page-section">
      <!--<h1>Dataset overview</h1>-->
      <div id="kpi-bar" class="kpi-bar"></div>
      <div id="phylo-panel"></div>
      <div id="timeline-panel"></div>
    </div>

    <!-- PAGE 3 : STUDIES OVERVIEW -->
    <div id="page-3" class="page-section">
      <h1>Studies overview</h1>
      <p>
        Graphiques de Béline
      </p>

      <div id="overview-charts">
        <!-- Conteneur pour tes futurs graphiques -->
      </div>
    </div>
  </div>

  <!-- Dependencies -->
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://unpkg.com/topojson-client@3"></script>

  <!-- Main script -->
  <script src="main.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", createViz);
  </script>

</body>
</html>
